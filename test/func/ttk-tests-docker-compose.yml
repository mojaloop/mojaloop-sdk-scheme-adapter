version: '3.7'
networks:
  mojaloop-net:
    name: mojaloop-net

services:
  ttk-tests:
    image: mojaloop/ml-testing-toolkit-client-lib:v1.0.0
    user: root
    volumes:
      - "./config/ttk-ttksim1/environments:/opt/app/environments"
      - "./collections:/opt/app/collections"
      - "./reports:/opt/app/reports"
    networks:
      - mojaloop-net
    command:
      - sh
      - -c
      - |
        npm run cli -- -u http://ttk-ttksim1:5050 -l 2 -i /opt/app/collections/fx -e environments/hub_local_environment.json --report-format html  --report-target file://reports/ttk-func-fx-tests-report.html
